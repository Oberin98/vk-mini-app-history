(this["webpackJsonphistory-vk-mini-app"]=this["webpackJsonphistory-vk-mini-app"]||[]).push([[0],{273:function(e,t,c){"use strict";c.r(t);c(183),c(209),c(211),c(212),c(214),c(215),c(216),c(217),c(218),c(219),c(220),c(221),c(223),c(224),c(225),c(226),c(227),c(228),c(229),c(230),c(231),c(232),c(234),c(235),c(236),c(237),c(238),c(239),c(240),c(241),c(242),c(243),c(244),c(245),c(246),c(247),c(248),c(249),c(250),c(251);var n=c(0),i=c(34),r=c.n(i),j=c(43),s=c.n(j),O=c(2),o=c(8),b=(c(271),"CATALOG_VIEW"),l="CHECKOUT_VIEW",d="INIT_VIEW",h="ORDER_VIEW",u="CATALOG_PANEL",a="PRODUCT_CARD_PANEL",x="BASKET_PANEL",y="CHECKOUT_PANEL",E="INIT_PANEL",f="ORDER_PANEL",T="STOCK_PANEL",A="STOCK_CARD_PANEL",C="@history",P="".concat(C,"/SET_VIEW"),N="".concat(C,"/SET_PANEL"),L=function(e){return{type:P,payload:e}},k=function(e){return{type:N,payload:e}},g=c(1),p=function(e){var t=Object(o.b)();return Object(g.jsxs)(O.g,{id:e.id,children:[Object(g.jsx)(O.e,{children:Object(g.jsx)(O.j,{children:"CATALOG PANEL"})}),Object(g.jsx)(O.e,{children:Object(g.jsx)(O.c,{onClick:function(){return t(k({history:"catalogHistory",panel:a}))},children:"TO PRODUCT CARD"})})]})},v=function(e){var t=Object(o.b)();return Object(g.jsxs)(O.g,{id:e.id,children:[Object(g.jsx)(O.e,{children:Object(g.jsx)(O.j,{children:"PRODUCT CARD PANEL"})}),Object(g.jsx)(O.e,{children:Object(g.jsx)(O.c,{onClick:function(){return t(k({history:"catalogHistory",panel:"TEST_PANEL_1"}))},children:"TO TEST PANEL 1"})})]})},H=function(e){var t=Object(o.b)();return Object(g.jsxs)(O.g,{id:e.id,children:[Object(g.jsx)(O.e,{children:Object(g.jsx)(O.j,{children:"TEST PANEL 1"})}),Object(g.jsx)(O.e,{children:Object(g.jsx)(O.c,{onClick:function(){return t(k({history:"catalogHistory",panel:"TEST_PANEL_2"}))},children:"TO TEST PANEL 2"})})]})},S=function(e){var t=Object(o.b)();return Object(g.jsxs)(O.g,{id:e.id,children:[Object(g.jsx)(O.e,{children:Object(g.jsx)(O.j,{children:"TEST PANEL 2"})}),Object(g.jsx)(O.e,{children:Object(g.jsx)(O.c,{onClick:function(){return t(k({history:"catalogHistory",panel:u}))},children:"TO CATALOG PANEL"})})]})},_=function(e){var t=Object(o.c)((function(e){return e.history.catalogHistory})),c=Object(o.b)();return Object(g.jsxs)(O.k,{id:e.id,history:t,activePanel:t[t.length-1],onSwipeBack:function(){t.length>1&&c(k({history:"catalogHistory",panel:t[t.length-2]}))},children:[Object(g.jsx)(p,{id:u}),Object(g.jsx)(v,{id:a}),Object(g.jsx)(H,{id:"TEST_PANEL_1"}),Object(g.jsx)(S,{id:"TEST_PANEL_2"})]})},K=function(e){var t=Object(o.b)(),c=Object(o.c)((function(e){return e.history.checkoutHistory}));return Object(g.jsxs)(O.g,{id:e.id,children:[Object(g.jsx)(O.e,{children:Object(g.jsx)(O.j,{children:"BASKET PANEL"})}),Object(g.jsxs)(O.e,{children:[Object(g.jsx)(O.c,{onClick:function(){return t(k({history:"checkoutHistory",panel:y}))},children:"TO CHECKOUT PANEL"}),JSON.stringify(c)]})]})},R=function(e){var t=Object(o.b)(),c=Object(o.c)((function(e){return e.history.checkoutHistory}));return Object(g.jsxs)(O.g,{id:e.id,children:[Object(g.jsx)(O.e,{children:Object(g.jsx)(O.j,{children:"CHECKOUT PANEL"})}),Object(g.jsxs)(O.e,{children:[Object(g.jsx)(O.c,{onClick:function(){return t(k({history:"checkoutHistory",panel:x}))},children:"TO BASKET PANEL"}),Object(g.jsx)(O.c,{onClick:function(){return t(k({history:"checkoutHistory",panel:T}))},children:"TO STOCK PANEL"}),JSON.stringify(c)]})]})},w=function(e){var t=Object(o.b)(),c=Object(o.c)((function(e){return e.history.checkoutHistory}));return Object(g.jsxs)(O.g,{id:e.id,children:[Object(g.jsx)(O.e,{children:Object(g.jsx)(O.j,{children:"STOCK CARD"})}),Object(g.jsxs)(O.e,{children:[Object(g.jsx)(O.c,{onClick:function(){return t(k({history:"checkoutHistory",panel:T}))},children:"TO STOCK PANEL"}),Object(g.jsx)(O.c,{onClick:function(){t(k({history:"checkoutHistory",panel:y,filters:[A,T]}))},children:"TO CHECKOUT PANEL"}),JSON.stringify(c)]})]})},I=function(e){var t=Object(o.b)(),c=Object(o.c)((function(e){return e.history.checkoutHistory}));return Object(g.jsxs)(O.g,{id:e.id,children:[Object(g.jsx)(O.e,{children:Object(g.jsx)(O.j,{children:"STOCK PANEL"})}),Object(g.jsxs)(O.e,{children:[Object(g.jsx)(O.c,{onClick:function(){return t(k({history:"checkoutHistory",panel:A}))},children:"TO STOCK CARD PANEL"}),Object(g.jsx)(O.c,{onClick:function(){t(k({history:"checkoutHistory",panel:y,filters:[A,T]}))},children:"TO CHECKOUT_PANEL"}),JSON.stringify(c)]})]})},D=function(e){var t=Object(o.c)((function(e){return e.history.checkoutHistory})),c=Object(o.b)();return Object(g.jsxs)(O.k,{id:e.id,history:t,activePanel:t[t.length-1],onSwipeBack:function(){t.length>1&&c(setPanel({history:"checkoutHistory",panel:t[t.length-2]}))},children:[Object(g.jsx)(K,{id:x}),Object(g.jsx)(R,{id:y}),Object(g.jsx)(I,{id:T}),Object(g.jsx)(w,{id:A})]})},U=function(e){var t=Object(o.b)();return Object(g.jsxs)(O.g,{id:e.id,children:[Object(g.jsx)(O.e,{children:Object(g.jsx)(O.j,{children:"INIT PANEL"})}),Object(g.jsx)(O.e,{children:Object(g.jsx)(O.c,{onClick:function(){return t(L(b))},children:"TO CATALOG"})})]})},m=function(e){return Object(g.jsx)(O.k,{id:e.id,activePanel:E,children:Object(g.jsx)(U,{id:E})})},B=function(e){return Object(g.jsxs)(O.g,{id:e.id,children:[Object(g.jsx)(O.e,{children:Object(g.jsx)(O.j,{children:"ORDER PANEL"})}),Object(g.jsx)(O.e,{children:Object(g.jsx)(O.c,{children:"CATALOG PANEL"})})]})},G=function(e){return Object(g.jsx)(O.k,{id:e.id,activePanel:f,children:Object(g.jsx)(B,{id:f})})},J=c(275),V=c(276),W=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.history.view})),c=function(c){t!==c&&e(L(c))};return Object(g.jsxs)(O.h,{style:{bottom:t===d||t===h?-100:0},children:[Object(g.jsx)(O.i,{selected:t===b,onClick:function(){return c(b)},children:Object(g.jsx)(J.a,{})}),Object(g.jsx)(O.i,{selected:t===l,onClick:function(){return c(l)},children:Object(g.jsx)(V.a,{})})]})},q=Object(n.memo)(W),z=function(){var e=Object(o.c)((function(e){return e.history})).view;return Object(g.jsx)(O.d,{children:Object(g.jsx)(O.b,{children:Object(g.jsxs)(O.f,{activeStory:e,tabbar:Object(g.jsx)(q,{}),children:[Object(g.jsx)(D,{id:l}),Object(g.jsx)(_,{id:b}),Object(g.jsx)(G,{id:h}),Object(g.jsx)(m,{id:d})]})})})},F=c(33),M=c(95),Q=c(36),X=c(68),Y=c(27),Z={view:d,catalogHistory:[u],checkoutHistory:[x],initHistory:[E],orderHistory:[f]},$=function(e,t){return Object(Y.a)(Object(Y.a)({},Z),{},{view:t})},ee=function(e,t){var c=t.history,n=t.panel,i=t.filters,r=void 0===i?[]:i,j=e.view,s=e[c].filter((function(e){return!r.includes(e)}));return s.length>=2&&s[s.length-2]===n?Object(Y.a)(Object(Y.a)({},Z),{},Object(Q.a)({view:j},c,[].concat(Object(X.a)(s.slice(0,s.length-2)),[n]))):s[s.length-1]===n?Object(Y.a)(Object(Y.a)({},Z),{},Object(Q.a)({view:j},c,s)):Object(Y.a)(Object(Y.a)({},Z),{},Object(Q.a)({view:j},c,[].concat(Object(X.a)(s),[n])))},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return $(0,t.payload);case N:return ee(e,t.payload);default:return e}},ce=Object(F.c)({history:te}),ne=Object(F.e)(ce,Object(F.d)(Object(F.a)(M.a)));s.a.send("VKWebAppInit"),r.a.render(Object(g.jsx)(o.a,{store:ne,children:Object(g.jsx)(O.a,{children:Object(g.jsx)(z,{})})}),document.getElementById("root")),Promise.all([c.e(3),c.e(4)]).then(c.bind(null,280)).then((function(e){e.default}))}},[[273,1,2]]]);
//# sourceMappingURL=main.2dca3f16.chunk.js.map