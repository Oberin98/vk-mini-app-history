{"version":3,"sources":["utils/constants.js","store/history/actionTypes.js","store/history/actions.js","components/panels/CatalogPanel.js","components/panels/ProductCardPanel.js","components/panels/TestPanel1.js","components/panels/TestPanel2.js","components/views/CatalogView.js","components/panels/BasketPanel.js","components/panels/CheckoutPanel.js","components/panels/StockCard.js","components/panels/StockPanel.js","components/views/CheckoutView.js","components/panels/InitPanel.js","components/views/InitView.js","components/panels/OrderPanel.js","components/views/OrderView.js","components/shared/Tabbar.js","App.js","store/history/utils.js","store/history/index.js","store/index.js","index.js"],"names":["CATALOG_VIEW","CHECKOUT_VIEW","INIT_VIEW","ORDER_VIEW","CATALOG_PANEL","PRODUCT_CARD_PANEL","BASKET_PANEL","CHECKOUT_PANEL","INIT_PANEL","ORDER_PANEL","STOCK_PANEL","STOCK_CARD_PANEL","prefix","SET_VIEW","SET_PANEL","setView","payload","type","types","setPanel","CatalogPanel","props","history","useSelector","state","catalogHistory","dispatch","useDispatch","id","onClick","panel","constants","JSON","stringify","ProductCardPanel","TestPanel1","TestPanel2","CatalogView","activePanel","length","BasketPanel","checkoutHistory","CheckoutPanel","StockCard","filters","StockPanel","CheckoutView","onSwipeBack","InitPanel","InitView","OrderPanel","OrderView","TabbbarComponent","view","setViewHandler","selectedView","style","bottom","selected","memo","App","activeStory","tabbar","Tabbar","initialState","initHistory","orderHistory","onSetView","_state","onSetPanel","activeHistory","filter","historyItem","includes","slice","historyReducer","action","reducers","combineReducers","createStore","composeWithDevTools","applyMiddleware","thunk","bridge","send","ReactDOM","render","store","document","getElementById","then","default"],"mappings":"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","file":"static/js/main.d3467b22.chunk.js","sourcesContent":["// Views\nexport const CATALOG_VIEW = \"CATALOG_VIEW\";\nexport const CHECKOUT_VIEW = \"CHECKOUT_VIEW\";\nexport const INIT_VIEW = \"INIT_VIEW\";\nexport const ORDER_VIEW = \"ORDER_VIEW\";\n\n// Panels\nexport const CATALOG_PANEL = \"CATALOG_PANEL\";\nexport const PRODUCT_CARD_PANEL = \"PRODUCT_CARD_PANEL\";\nexport const BASKET_PANEL = \"BASKET_PANEL\";\nexport const CHECKOUT_PANEL = \"CHECKOUT_PANEL\";\nexport const INIT_PANEL = \"INIT_PANEL\";\nexport const ORDER_PANEL = \"ORDER_PANEL\";\nexport const STOCK_PANEL = \"STOCK_PANEL\";\nexport const STOCK_CARD_PANEL = \"STOCK_CARD_PANEL\";\n","const prefix = \"@history\";\n\nexport const SET_VIEW = `${prefix}/SET_VIEW`;\nexport const SET_PANEL = `${prefix}/SET_PANEL`;\n","import * as types from \"./actionTypes\";\n\nexport const setView = (payload) => ({\n  type: types.SET_VIEW,\n  payload,\n});\n\nexport const setPanel = (payload) => ({\n  type: types.SET_PANEL,\n  payload,\n});\n","import React from \"react\";\nimport { Panel, Title, Button, Div } from \"@vkontakte/vkui\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport * as constants from \"../../utils/constants\";\nimport { setPanel } from \"../../store/history/actions\";\n\nconst CatalogPanel = (props) => {\n  const history = useSelector((state) => state.history.catalogHistory);\n  const dispatch = useDispatch();\n\n  return (\n    <Panel id={props.id}>\n      <Div>\n        <Title>CATALOG PANEL</Title>\n      </Div>\n      <Div>\n        <Button\n          onClick={() =>\n            dispatch(\n              setPanel({\n                history: \"catalogHistory\",\n                panel: constants.PRODUCT_CARD_PANEL,\n              })\n            )\n          }\n        >\n          TO PRODUCT CARD\n        </Button>\n        {JSON.stringify(history)}\n      </Div>\n    </Panel>\n  );\n};\n\nexport default CatalogPanel;\n","import React from \"react\";\nimport { Panel, Title, Div, Button } from \"@vkontakte/vkui\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport * as constants from \"../../utils/constants\";\nimport { setPanel } from \"../../store/history/actions\";\n\nconst ProductCardPanel = (props) => {\n  const history = useSelector((state) => state.history.catalogHistory);\n  const dispatch = useDispatch();\n\n  return (\n    <Panel id={props.id}>\n      <Div>\n        <Title>PRODUCT CARD PANEL</Title>\n      </Div>\n      <Div>\n        <Button\n          onClick={() =>\n            dispatch(\n              setPanel({\n                history: \"catalogHistory\",\n                panel: \"TEST_PANEL_1\",\n              })\n            )\n          }\n        >\n          TO TEST PANEL 1\n        </Button>\n        {JSON.stringify(history)}\n      </Div>\n    </Panel>\n  );\n};\n\nexport default ProductCardPanel;\n","import React from \"react\";\nimport { Panel, Title, Div, Button } from \"@vkontakte/vkui\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { setPanel } from \"../../store/history/actions\";\n\nconst TestPanel1 = (props) => {\n  const history = useSelector((state) => state.history.catalogHistory);\n  const dispatch = useDispatch();\n\n  return (\n    <Panel id={props.id}>\n      <Div>\n        <Title>TEST PANEL 1</Title>\n      </Div>\n      <Div>\n        <Button\n          onClick={() =>\n            dispatch(\n              setPanel({\n                history: \"catalogHistory\",\n                panel: \"TEST_PANEL_2\",\n              })\n            )\n          }\n        >\n          TO TEST PANEL 2\n        </Button>\n        {JSON.stringify(history)}\n      </Div>\n    </Panel>\n  );\n};\n\nexport default TestPanel1;\n","import React from \"react\";\nimport { Panel, Title, Div, Button } from \"@vkontakte/vkui\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport * as constants from \"../../utils/constants\";\nimport { setPanel } from \"../../store/history/actions\";\n\nconst TestPanel2 = (props) => {\n  const history = useSelector((state) => state.history.catalogHistory);\n  const dispatch = useDispatch();\n\n  return (\n    <Panel id={props.id}>\n      <Div>\n        <Title>TEST PANEL 2</Title>\n      </Div>\n      <Div>\n        <Button\n          onClick={() =>\n            dispatch(\n              setPanel({\n                history: \"catalogHistory\",\n                panel: constants.CATALOG_PANEL,\n              })\n            )\n          }\n        >\n          TO CATALOG PANEL\n        </Button>\n        {JSON.stringify(history)}\n      </Div>\n    </Panel>\n  );\n};\n\nexport default TestPanel2;\n","import React from \"react\";\nimport { View } from \"@vkontakte/vkui\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport CatalogPanel from \"../panels/CatalogPanel\";\nimport ProductCardPanel from \"../panels/ProductCardPanel\";\nimport TestPanel1 from \"../panels/TestPanel1\";\nimport TestPanel2 from \"../panels/TestPanel2\";\n\nimport * as constants from \"../../utils/constants\";\nimport { setPanel } from \"../../store/history/actions\";\n\nconst CatalogView = (props) => {\n  const history = useSelector((state) => state.history.catalogHistory);\n  const dispatch = useDispatch();\n\n  const onSwipeBackHandler = () => {\n    if (history.length > 1) {\n      dispatch(\n        setPanel({\n          history: \"catalogHistory\",\n          panel: history[history.length - 2],\n        })\n      );\n    }\n  };\n\n  return (\n    <View\n      id={props.id}\n      history={history}\n      activePanel={history[history.length - 1]}\n      // onSwipeBack={onSwipeBackHandler}\n    >\n      <CatalogPanel id={constants.CATALOG_PANEL} />\n      <ProductCardPanel id={constants.PRODUCT_CARD_PANEL} />\n      <TestPanel1 id=\"TEST_PANEL_1\" />\n      <TestPanel2 id=\"TEST_PANEL_2\" />\n    </View>\n  );\n};\n\nexport default CatalogView;\n","import React from \"react\";\nimport { Panel, Button, Div, Title } from \"@vkontakte/vkui\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport * as constants from \"../../utils/constants\";\nimport { setPanel } from \"../../store/history/actions\";\n\nconst BasketPanel = (props) => {\n  const dispatch = useDispatch();\n  const history = useSelector((state) => state.history.checkoutHistory);\n\n  return (\n    <Panel id={props.id}>\n      <Div>\n        <Title>BASKET PANEL</Title>\n      </Div>\n      <Div>\n        <Button\n          onClick={() =>\n            dispatch(\n              setPanel({\n                history: \"checkoutHistory\",\n                panel: constants.CHECKOUT_PANEL,\n              })\n            )\n          }\n        >\n          TO CHECKOUT PANEL\n        </Button>\n        {JSON.stringify(history)}\n      </Div>\n    </Panel>\n  );\n};\n\nexport default BasketPanel;\n","import React from \"react\";\nimport { Panel, Button, Title, Div } from \"@vkontakte/vkui\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport * as constants from \"../../utils/constants\";\nimport { setPanel } from \"../../store/history/actions\";\n\nconst CheckoutPanel = (props) => {\n  const dispatch = useDispatch();\n  const history = useSelector((state) => state.history.checkoutHistory);\n\n  return (\n    <Panel id={props.id}>\n      <Div>\n        <Title>CHECKOUT PANEL</Title>\n      </Div>\n      <Div>\n        <Button\n          onClick={() =>\n            dispatch(\n              setPanel({\n                history: \"checkoutHistory\",\n                panel: constants.BASKET_PANEL,\n              })\n            )\n          }\n        >\n          TO BASKET PANEL\n        </Button>\n        <Button\n          onClick={() =>\n            dispatch(\n              setPanel({\n                history: \"checkoutHistory\",\n                panel: constants.STOCK_PANEL,\n              })\n            )\n          }\n        >\n          TO STOCK PANEL\n        </Button>\n        {JSON.stringify(history)}\n      </Div>\n    </Panel>\n  );\n};\n\nexport default CheckoutPanel;\n","import React from \"react\";\nimport { Panel, Title, Div, Button } from \"@vkontakte/vkui\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport * as constants from \"../../utils/constants\";\nimport { setPanel } from \"../../store/history/actions\";\n\nconst StockCard = (props) => {\n  const dispatch = useDispatch();\n  const history = useSelector((state) => state.history.checkoutHistory);\n\n  const toCheckoutPanelHandler = () => {\n    dispatch(\n      setPanel({\n        history: \"checkoutHistory\",\n        panel: constants.CHECKOUT_PANEL,\n        filters: [constants.STOCK_CARD_PANEL, constants.STOCK_PANEL],\n      })\n    );\n  };\n\n  return (\n    <Panel id={props.id}>\n      <Div>\n        <Title>STOCK CARD</Title>\n      </Div>\n      <Div>\n        <Button\n          onClick={() =>\n            dispatch(\n              setPanel({\n                history: \"checkoutHistory\",\n                panel: constants.STOCK_PANEL,\n              })\n            )\n          }\n        >\n          TO STOCK PANEL\n        </Button>\n        <Button onClick={toCheckoutPanelHandler}>TO CHECKOUT PANEL</Button>\n        {JSON.stringify(history)}\n      </Div>\n    </Panel>\n  );\n};\n\nexport default StockCard;\n","import React from \"react\";\nimport { Panel, Title, Div, Button } from \"@vkontakte/vkui\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport * as constants from \"../../utils/constants\";\nimport { setPanel } from \"../../store/history/actions\";\n\nconst StockPanel = (props) => {\n  const dispatch = useDispatch();\n  const history = useSelector((state) => state.history.checkoutHistory);\n\n  const toCheckoutPanelHandler = () => {\n    dispatch(\n      setPanel({\n        history: \"checkoutHistory\",\n        panel: constants.CHECKOUT_PANEL,\n        filters: [constants.STOCK_CARD_PANEL, constants.STOCK_PANEL],\n      })\n    );\n  };\n\n  return (\n    <Panel id={props.id}>\n      <Div>\n        <Title>STOCK PANEL</Title>\n      </Div>\n      <Div>\n        <Button\n          onClick={() =>\n            dispatch(\n              setPanel({\n                history: \"checkoutHistory\",\n                panel: constants.STOCK_CARD_PANEL,\n              })\n            )\n          }\n        >\n          TO STOCK CARD PANEL\n        </Button>\n        <Button onClick={toCheckoutPanelHandler}>TO CHECKOUT_PANEL</Button>\n        {JSON.stringify(history)}\n      </Div>\n    </Panel>\n  );\n};\n\nexport default StockPanel;\n","import React from \"react\";\nimport { View } from \"@vkontakte/vkui\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport BasketPanel from \"../panels/BasketPanel\";\nimport CheckoutPanel from \"../panels/CheckoutPanel\";\nimport StockCard from \"../panels/StockCard\";\nimport StockPanel from \"../panels/StockPanel\";\n\nimport * as constants from \"../../utils/constants\";\n\nconst CheckoutView = (props) => {\n  const history = useSelector((state) => state.history.checkoutHistory);\n  const dispatch = useDispatch();\n\n  const onSwipeBackHandler = () => {\n    if (history.length > 1) {\n      dispatch(\n        setPanel({\n          history: \"checkoutHistory\",\n          panel: history[history.length - 2],\n        })\n      );\n    }\n  };\n\n  return (\n    <View\n      id={props.id}\n      history={history}\n      activePanel={history[history.length - 1]}\n      onSwipeBack={onSwipeBackHandler}\n    >\n      <BasketPanel id={constants.BASKET_PANEL} />\n      <CheckoutPanel id={constants.CHECKOUT_PANEL} />\n      <StockPanel id={constants.STOCK_PANEL} />\n      <StockCard id={constants.STOCK_CARD_PANEL} />\n    </View>\n  );\n};\n\nexport default CheckoutView;\n","import React from \"react\";\nimport { Panel, Title, Button, Div } from \"@vkontakte/vkui\";\nimport { useDispatch } from \"react-redux\";\n\nimport * as constants from \"../../utils/constants\";\nimport { setView } from \"../../store/history/actions\";\n\nconst InitPanel = (props) => {\n  const dispatch = useDispatch();\n\n  return (\n    <Panel id={props.id}>\n      <Div>\n        <Title>INIT PANEL</Title>\n      </Div>\n      <Div>\n        <Button onClick={() => dispatch(setView(constants.CHECKOUT_VIEW))}>\n          TO CATALOG\n        </Button>\n      </Div>\n    </Panel>\n  );\n};\n\nexport default InitPanel;\n","import React from \"react\";\nimport { View } from \"@vkontakte/vkui\";\n\nimport InitPanel from \"../panels/InitPanel\";\n\nimport * as constants from \"../../utils/constants\";\n\nconst InitView = (props) => {\n  return (\n    <View id={props.id} activePanel={constants.INIT_PANEL}>\n      <InitPanel id={constants.INIT_PANEL} />\n    </View>\n  );\n};\n\nexport default InitView;\n","import React from \"react\";\nimport { Panel, Title, Button, Div } from \"@vkontakte/vkui\";\n\nconst OrderPanel = (props) => {\n  return (\n    <Panel id={props.id}>\n      <Div>\n        <Title>ORDER PANEL</Title>\n      </Div>\n      <Div>\n        <Button>CATALOG PANEL</Button>\n      </Div>\n    </Panel>\n  );\n};\n\nexport default OrderPanel;\n","import React from \"react\";\nimport { View } from \"@vkontakte/vkui\";\n\nimport OrderPanel from \"../panels/OrderPanel\";\n\nimport * as constants from \"../../utils/constants\";\n\nconst OrderView = (props) => {\n  return (\n    <View id={props.id} activePanel={constants.ORDER_PANEL}>\n      <OrderPanel id={constants.ORDER_PANEL} />\n    </View>\n  );\n};\n\nexport default OrderView;\n","import React, { memo } from \"react\";\nimport { Tabbar, TabbarItem } from \"@vkontakte/vkui\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  Icon28ShoppingCartOutline,\n  Icon28AllCategoriesOutline,\n} from \"@vkontakte/icons\";\n\nimport { setView } from \"../../store/history/actions\";\nimport * as constants from \"../../utils/constants\";\n\nconst TabbbarComponent = () => {\n  const dispatch = useDispatch();\n  const view = useSelector((state) => state.history.view);\n\n  const setViewHandler = (selectedView) => {\n    if (view !== selectedView) {\n      dispatch(setView(selectedView));\n    }\n  };\n\n  return (\n    <Tabbar\n      style={{\n        bottom:\n          view === constants.INIT_VIEW || view === constants.ORDER_VIEW\n            ? -100\n            : 0,\n      }}\n    >\n      <TabbarItem\n        selected={view === constants.CATALOG_VIEW}\n        onClick={() => setViewHandler(constants.CATALOG_VIEW)}\n      >\n        <Icon28AllCategoriesOutline />\n      </TabbarItem>\n      <TabbarItem\n        selected={view === constants.CHECKOUT_VIEW}\n        onClick={() => setViewHandler(constants.CHECKOUT_VIEW)}\n      >\n        <Icon28ShoppingCartOutline />\n      </TabbarItem>\n    </Tabbar>\n  );\n};\n\nexport default memo(TabbbarComponent);\n","import React from \"react\";\nimport { ConfigProvider, AppRoot, Epic } from \"@vkontakte/vkui\";\nimport { useSelector } from \"react-redux\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\n\nimport CatalogView from \"./components/views/CatalogView\";\nimport CheckoutView from \"./components/views/CheckoutView\";\nimport InitView from \"./components/views/InitView\";\nimport OrderView from \"./components/views/OrderView\";\n\nimport Tabbar from \"./components/shared/Tabbar\";\n\nimport * as constants from \"./utils/constants\";\n\nconst App = () => {\n  const { view } = useSelector((state) => state.history);\n\n  return (\n    <ConfigProvider>\n      <AppRoot>\n        <Epic activeStory={view} tabbar={<Tabbar />}>\n          <InitView id={constants.INIT_VIEW} />\n          <CatalogView id={constants.CATALOG_VIEW} />\n          <CheckoutView id={constants.CHECKOUT_VIEW} />\n          <OrderView id={constants.ORDER_VIEW} />\n        </Epic>\n      </AppRoot>\n    </ConfigProvider>\n  );\n};\n\nexport default App;\n","import * as constants from \"../../utils/constants\";\n\nexport const initialState = {\n  view: constants.INIT_VIEW,\n  catalogHistory: [constants.CATALOG_PANEL],\n  checkoutHistory: [constants.BASKET_PANEL],\n  initHistory: [constants.INIT_PANEL],\n  orderHistory: [constants.ORDER_PANEL],\n};\n\nexport const onSetView = (_state, payload) => ({\n  ...initialState,\n  view: payload,\n});\n\nexport const onSetPanel = (state, payload) => {\n  const { history, panel, filters = [] } = payload;\n  const { view } = state;\n\n  const activeHistory = state[history].filter(\n    (historyItem) => !filters.includes(historyItem)\n  );\n\n  if (\n    activeHistory.length >= 2 &&\n    activeHistory[activeHistory.length - 2] === panel\n  ) {\n    return {\n      ...initialState,\n      view,\n      [history]: [...activeHistory.slice(0, activeHistory.length - 2), panel],\n    };\n  } else if (activeHistory[activeHistory.length - 1] === panel) {\n    return {\n      ...initialState,\n      view,\n      [history]: activeHistory,\n    };\n  } else {\n    return {\n      ...initialState,\n      view,\n      [history]: [...activeHistory, panel],\n    };\n  }\n};\n","import * as types from \"./actionTypes\";\nimport { initialState, onSetPanel, onSetView } from \"./utils\";\n\nconst historyReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.SET_VIEW:\n      return onSetView(state, action.payload);\n\n    case types.SET_PANEL:\n      return onSetPanel(state, action.payload);\n\n    default:\n      return state;\n  }\n};\n\nexport default historyReducer;\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\n\nimport history from \"./history\";\n\nconst reducers = combineReducers({\n  history,\n});\n\nexport default createStore(\n  reducers,\n  composeWithDevTools(applyMiddleware(thunk))\n);\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport { AdaptivityProvider } from \"@vkontakte/vkui\";\nimport { Provider } from \"react-redux\";\n\nimport App from \"./App\";\nimport store from \"./store\";\n\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(\n  <Provider store={store}>\n    <AdaptivityProvider>\n      <App />\n    </AdaptivityProvider>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\nimport(\"./utils/eruda\").then(({ default: eruda }) => {}); //runtime download\n"],"sourceRoot":""}