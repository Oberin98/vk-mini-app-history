(this["webpackJsonphistory-vk-mini-app"]=this["webpackJsonphistory-vk-mini-app"]||[]).push([[0],{273:function(e,c,t){"use strict";t.r(c);t(183),t(209),t(211),t(212),t(214),t(215),t(216),t(217),t(218),t(219),t(220),t(221),t(223),t(224),t(225),t(226),t(227),t(228),t(229),t(230),t(231),t(232),t(234),t(235),t(236),t(237),t(238),t(239),t(240),t(241),t(242),t(243),t(244),t(245),t(246),t(247),t(248),t(249),t(250),t(251);var n=t(0),i=t(35),r=t.n(i),j=t(43),s=t.n(j),O=t(2),o=t(11),b=(t(271),"CATALOG_VIEW"),l="CHECKOUT_VIEW",d="INIT_VIEW",h="ORDER_VIEW",u="CATALOG_PANEL",a="PRODUCT_CARD_PANEL",x="BASKET_PANEL",E="CHECKOUT_PANEL",A="INIT_PANEL",T="ORDER_PANEL",f="STOCK_PANEL",y="STOCK_CARD_PANEL",C="@history",L="".concat(C,"/SET_VIEW"),P="".concat(C,"/SET_PANEL"),N="".concat(C,"/FILTER_HISTORY"),v=function(e){return{type:L,payload:e}},k=function(e){return{type:P,payload:e}},p=t(1),g=function(e){var c=Object(o.b)();return Object(p.jsxs)(O.g,{id:e.id,children:[Object(p.jsx)(O.e,{children:Object(p.jsx)(O.j,{children:"CATALOG PANEL"})}),Object(p.jsx)(O.e,{children:Object(p.jsx)(O.c,{onClick:function(){return c(k({history:"catalogHistory",panel:a}))},children:"TO PRODUCT CARD"})})]})},_=function(e){var c=Object(o.b)();return Object(p.jsxs)(O.g,{id:e.id,children:[Object(p.jsx)(O.e,{children:Object(p.jsx)(O.j,{children:"PRODUCT CARD PANEL"})}),Object(p.jsx)(O.e,{children:Object(p.jsx)(O.c,{onClick:function(){return c(k({history:"catalogHistory",panel:"TEST_PANEL_1"}))},children:"TO TEST PANEL 1"})})]})},H=function(e){var c=Object(o.b)();return Object(p.jsxs)(O.g,{id:e.id,children:[Object(p.jsx)(O.e,{children:Object(p.jsx)(O.j,{children:"TEST PANEL 1"})}),Object(p.jsx)(O.e,{children:Object(p.jsx)(O.c,{onClick:function(){return c(k({history:"catalogHistory",panel:"TEST_PANEL_2"}))},children:"TO TEST PANEL 2"})})]})},S=function(e){var c=Object(o.b)();return Object(p.jsxs)(O.g,{id:e.id,children:[Object(p.jsx)(O.e,{children:Object(p.jsx)(O.j,{children:"TEST PANEL 2"})}),Object(p.jsx)(O.e,{children:Object(p.jsx)(O.c,{onClick:function(){return c(k({history:"catalogHistory",panel:u}))},children:"TO CATALOG PANEL"})})]})},R=function(e){var c=Object(o.c)((function(e){return e.history.catalogHistory}));return console.log(c),Object(p.jsxs)(O.k,{id:e.id,history:c,activePanel:c[c.length-1],children:[Object(p.jsx)(g,{id:u}),Object(p.jsx)(_,{id:a}),Object(p.jsx)(H,{id:"TEST_PANEL_1"}),Object(p.jsx)(S,{id:"TEST_PANEL_2"})]})},K=function(e){var c=Object(o.b)();return Object(p.jsxs)(O.g,{id:e.id,children:[Object(p.jsx)(O.e,{children:Object(p.jsx)(O.j,{children:"BASKET PANEL"})}),Object(p.jsx)(O.e,{children:Object(p.jsx)(O.c,{onClick:function(){return c(k({history:"checkoutHistory",panel:E}))},children:"TO CHECKOUT PANEL"})})]})},I=function(e){var c=Object(o.b)();return Object(p.jsxs)(O.g,{id:e.id,children:[Object(p.jsx)(O.e,{children:Object(p.jsx)(O.j,{children:"CHECKOUT PANEL"})}),Object(p.jsxs)(O.e,{children:[Object(p.jsx)(O.c,{onClick:function(){return c(k({history:"checkoutHistory",panel:x}))},children:"ORDER PANEL"}),Object(p.jsx)(O.c,{onClick:function(){return c(k({history:"checkoutHistory",panel:f}))},children:"STOCK PANEL"})]})]})},D=function(e){var c=Object(o.b)();return Object(p.jsxs)(O.g,{id:e.id,children:[Object(p.jsx)(O.e,{children:Object(p.jsx)(O.j,{children:"STOCK CARD"})}),Object(p.jsxs)(O.e,{children:[Object(p.jsx)(O.c,{onClick:function(){return c(k({history:"checkoutHistory",panel:f}))},children:"STOCK PANEL"}),Object(p.jsx)(O.c,{onClick:function(){c(k({history:"checkoutHistory",panel:E,filters:[y,f]}))},children:"CHECKOUT PANEL"})]})]})},w=function(e){var c=Object(o.b)();return Object(p.jsxs)(O.g,{id:e.id,children:[Object(p.jsx)(O.e,{children:Object(p.jsx)(O.j,{children:"STOCK PANEL"})}),Object(p.jsxs)(O.e,{children:[Object(p.jsx)(O.c,{onClick:function(){return c(k({history:"checkoutHistory",panel:y}))},children:"STOCK CARD PANEL"}),Object(p.jsx)(O.c,{onClick:function(){c(k({history:"checkoutHistory",panel:E,filters:[y,f]}))},children:"CHECKOUT_PANEL"})]})]})},U=function(e){var c=Object(o.c)((function(e){return e.history.checkoutHistory}));return console.log(c),Object(p.jsxs)(O.k,{id:e.id,history:c,activePanel:c[c.length-1],children:[Object(p.jsx)(K,{id:x}),Object(p.jsx)(I,{id:E}),Object(p.jsx)(w,{id:f}),Object(p.jsx)(D,{id:y})]})},m=function(e){var c=Object(o.b)();return Object(p.jsxs)(O.g,{id:e.id,children:[Object(p.jsx)(O.e,{children:Object(p.jsx)(O.j,{children:"INIT PANEL"})}),Object(p.jsx)(O.e,{children:Object(p.jsx)(O.c,{onClick:function(){return c(v(b))},children:"TO CATALOG"})})]})},G=function(e){return Object(p.jsx)(O.k,{id:e.id,activePanel:A,children:Object(p.jsx)(m,{id:A})})},V=function(e){return Object(p.jsxs)(O.g,{id:e.id,children:[Object(p.jsx)(O.e,{children:Object(p.jsx)(O.j,{children:"ORDER PANEL"})}),Object(p.jsx)(O.e,{children:Object(p.jsx)(O.c,{children:"CATALOG PANEL"})})]})},W=function(e){return Object(p.jsx)(O.k,{id:e.id,activePanel:T,children:Object(p.jsx)(V,{id:T})})},B=t(275),J=t(276),F=function(){var e=Object(o.b)(),c=Object(o.c)((function(e){return e.history.view})),t=function(t){c!==t&&e(v(t))};return Object(p.jsxs)(O.h,{style:{bottom:c===d||c===h?-100:0},children:[Object(p.jsx)(O.i,{selected:c===b,onClick:function(){return t(b)},children:Object(p.jsx)(B.a,{})}),Object(p.jsx)(O.i,{selected:c===l,onClick:function(){return t(l)},children:Object(p.jsx)(J.a,{})})]})},Y=Object(n.memo)(F),q=function(){var e=Object(o.c)((function(e){return e.history})).view;return Object(p.jsx)(O.d,{children:Object(p.jsx)(O.b,{children:Object(p.jsxs)(O.f,{activeStory:e,tabbar:Object(p.jsx)(Y,{}),children:[Object(p.jsx)(U,{id:l}),Object(p.jsx)(R,{id:b}),Object(p.jsx)(W,{id:h}),Object(p.jsx)(G,{id:d})]})})})},z=t(33),M=t(95),Q=t(34),X=t(68),Z=t(23),$={view:d,catalogHistory:[u],checkoutHistory:[x],initHistory:[A],orderHistory:[T]},ee=function(e,c){return Object(Z.a)(Object(Z.a)({},$),{},{view:c})},ce=function(e,c){var t=c.history,n=c.panel,i=c.filters,r=void 0===i?[]:i,j=e.view,s=e[t].filter((function(e){return!r.includes(e)}));return s.length>=2&&s[s.length-2]===n?Object(Z.a)(Object(Z.a)({},$),{},Object(Q.a)({view:j},t,[].concat(Object(X.a)(s.slice(0,s.length-2)),[n]))):s[s.length-1]===n?Object(Z.a)(Object(Z.a)({},$),{},Object(Q.a)({view:j},t,s)):Object(Z.a)(Object(Z.a)({},$),{},Object(Q.a)({view:j},t,[].concat(Object(X.a)(s),[n])))},te=function(e,c){var t=c.history,n=c.filters;return Object(Z.a)(Object(Z.a)({},e),{},Object(Q.a)({},t,e[t].filter((function(e){return!n.includes(e)}))))},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,c=arguments.length>1?arguments[1]:void 0;switch(c.type){case L:return ee(0,c.payload);case P:return ce(e,c.payload);case N:return te(e,c.payload);default:return e}},ie=Object(z.c)({history:ne}),re=Object(z.e)(ie,Object(z.d)(Object(z.a)(M.a)));s.a.send("VKWebAppInit"),r.a.render(Object(p.jsx)(o.a,{store:re,children:Object(p.jsx)(O.a,{children:Object(p.jsx)(q,{})})}),document.getElementById("root"))}},[[273,1,2]]]);
//# sourceMappingURL=main.575c9273.chunk.js.map